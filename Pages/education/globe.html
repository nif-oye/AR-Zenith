<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>World Globe</title>

    <link rel="icon" href="../../images/AR_Zenith_Icon.png" type="image/png">

    <link rel="stylesheet" href="../../Styles/styles.css" />
    <link rel="stylesheet" href="../../Styles/view-product.css" />
    <link rel="stylesheet" href="../../Styles/annotations.css" />

    <!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates&display=swap"
      rel="stylesheet"
    />

    <!-- model-viewer library -->
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
    ></script>
  </head>
  <body>
    <a href="../education.html" class="back-button">&#8592; Back</a>
    <div class="product-card">
      <div class="ar-viewer">
        <model-viewer
          src="../../Models/Products/education/earth_globe.glb"
          ar
          ar-modes="webxr scene-viewer quick-look"
          camera-controls
          tone-mapping="neutral"
          poster="poster.webp"
          shadow-intensity="1"
          auto-rotate
        >
          <button
            class="Hotspot"
            slot="hotspot-1"
            data-position="1.1135203105986005m -11.74386308422469m 9.160413137837224m"
            data-normal="-0.0008600859471883745m -0.02733157340304086m 0.999626052755468m"
            data-visibility-attribute="visible"
          >
            <div class="HotspotAnnotation">Africa</div></button
          ><button
            class="Hotspot"
            slot="hotspot-3"
            data-position="9.827251588561575m -15.726144114086658m -6.89676474853918m"
            data-normal="0.7956075910229238m -0.384688823636362m -0.46799900649036885m"
            data-visibility-attribute="visible"
          >
            <div class="HotspotAnnotation">Australia</div></button
          ><button
            class="Hotspot"
            slot="hotspot-4"
            data-position="-9.728966802731378m -12.311535887970937m -0.059862386724080174m"
            data-normal="-0.9841193543966215m -0.08178535345431763m 0.15754444535536533m"
            data-visibility-attribute="visible"
          >
            <div class="HotspotAnnotation">South America</div></button
          ><button
            class="Hotspot"
            slot="hotspot-5"
            data-position="-3.993891505972832m -2.13763311695633m -4.3139601276928135m"
            data-normal="-0.45878769584330437m 0.8586061410387686m -0.22871236239719475m"
            data-visibility-attribute="visible"
          >
            <div class="HotspotAnnotation">North America</div></button
          ><button
            class="Hotspot"
            slot="hotspot-6"
            data-position="1.892421325057673m -4.447246299259962m 6.521960909865695m"
            data-normal="0.07872770974286557m 0.6457713448553273m 0.759461202354923m"
            data-visibility-attribute="visible"
          >
            <div class="HotspotAnnotation">Europe</div></button
          ><button
            class="Hotspot"
            slot="hotspot-7"
            data-position="7.9716499371940195m -6.188891325447324m 4.831773430473155m"
            data-normal="0.6264511295153932m 0.48101256002811194m 0.6133399542049175m"
            data-visibility-attribute="visible"
          >
            <div class="HotspotAnnotation">Asia</div></button
          ><button
            class="Hotspot"
            slot="hotspot-8"
            data-position="0.5506063116175826m -22.2766516760208m -3.922544349833813m"
            data-normal="-0.05008814146149404m -0.9779211201682387m -0.2028828746193989m"
            data-visibility-attribute="visible"
          >
            <div class="HotspotAnnotation">Antarctica</div>
          </button>
          <div class="progress-bar hide" slot="progress-bar">
            <div class="update-bar"></div>
          </div>
          <button slot="ar-button" id="ar-button">View in your space</button>
          <div id="ar-prompt">
            <img src="https://modelviewer.dev/shared-assets/icons/hand.png" />
          </div>
        </model-viewer>
      </div>
      <div class="product-info">
        <h1 class="product-name">World Globe</h1>
        <!-- <p class="product-price">$199.99</p> -->
        <p class="product-description">
          A rotating world globe for geography classes and exploration.
        </p>
      </div>
    </div>

    <script>
      const modelViewer = document.querySelector("model-viewer");

      document.querySelectorAll(".Hotspot").forEach((button) => {
        button.addEventListener("click", function () {
          let target = button
            .querySelector(".HotspotAnnotation")
            .textContent.trim();

          switch (target) {
            case "Africa":
              modelViewer.cameraOrbit = "0deg 75deg 3m";
              modelViewer.cameraTarget = "-36.01deg 95.28deg 9.16m";
              break;

            case "Australia":
              modelViewer.cameraOrbit = "45deg 60deg 4m";
              modelViewer.cameraTarget = "3.17deg 12.1deg 1.8m";
              break;

            case "South America":
              modelViewer.cameraOrbit = "-20deg 85deg 3.5m"; 
              modelViewer.cameraTarget = "-9.72m -12.31m -0.05m";
              break;

            case "North America":
              modelViewer.cameraOrbit = "-150.3deg 33.07deg 3.5m"; // Adjust for North America
              modelViewer.cameraTarget = "-3.99m -2.13m -4.31m";
              break;

            case "Europe":
              modelViewer.cameraOrbit = "15deg 80deg 3m"; // Adjust for Europe
              modelViewer.cameraTarget = "1.89m -4.44m 6.52m";
              break;

            case "Asia":
              modelViewer.cameraOrbit = "60deg 50deg 4.5m"; // Adjust for Asia
              modelViewer.cameraTarget = "7.97m -6.18m 4.83m";
              break;

            case "Antarctica":
              modelViewer.cameraOrbit = "90deg 120deg 5m"; // Adjust for Antarctica
              modelViewer.cameraTarget = "0.55m -22.27m -3.92m";
              break;
          }
        });
      });
    </script>
  </body>
</html>
